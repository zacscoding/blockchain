# Block  

- [1. Block 개요](#1-Block-개요)  
- [2. Block 구조](#2-Block-구조)  

---  

# 1. Block 개요  

이더리움에서 어카운트의 상태 전이를 발생시키는 트랜잭션들과 모든 관련 정보는 블록이라는 구조체에 저장된다.  
[개요](./1.blockchain.md)에서 살펴본 것과 같이 모든 블록은 체인처럼 서로 연결 되어 있다.  
이를 **블록체인(Block chain)** 이라고 부른다.  
P2P 네트워크와 동기화 프로토콜을 통해 네트워크에 연결 된 모든 노드에게 전파되어 공유 된다.  
즉, 블록체인이 공유 원장이다.  

블록은 **블록 헤더**, **엉클 블록**, **트랜잭션** 으로 구성되어 있다.  

---  

# 2. Block 구조  

> Block 필드  
https://github.com/INFURA/go-ethlibs/blob/master/eth/block.go   

```go
// eth/block.go  
type Block struct {
	Number           *Quantity  `json:"number"`
	Hash             *Hash      `json:"hash"`
	ParentHash       Hash       `json:"parentHash"`
	SHA3Uncles       Data32     `json:"sha3Uncles"`
	LogsBloom        Data256    `json:"logsBloom"`
	TransactionsRoot Data32     `json:"transactionsRoot"`
	StateRoot        Data32     `json:"stateRoot"`
	ReceiptsRoot     Data32     `json:"receiptsRoot"`
	Miner            Address    `json:"miner"`
	Author           Address    `json:"author,omitempty"` // Parity-specific alias of miner
	Difficulty       Quantity   `json:"difficulty"`
	TotalDifficulty  Quantity   `json:"totalDifficulty"`
	ExtraData        Data       `json:"extraData"`
	Size             Quantity   `json:"size"`
	GasLimit         Quantity   `json:"gasLimit"`
	GasUsed          Quantity   `json:"gasUsed"`
	Timestamp        Quantity   `json:"timestamp"`
	Transactions     []TxOrHash `json:"transactions"`
	Uncles           []Hash     `json:"uncles"`

	// Ethhash POW Fields
	Nonce   *Data8 `json:"nonce"`
	MixHash *Data  `json:"mixHash"`

	// POA Fields (Aura)
	Step      *string `json:"step,omitempty"`
	Signature *string `json:"signature,omitempty"`

	// Parity Specific Fields
	SealFields *[]Data `json:"sealFields,omitempty"`

	// Track the flavor so we can re-encode correctly
	flavor string
}

// eth/data.go  
type Data string
type Data8 Data
type Data20 Data
type Data32 Data
type Data256 Data

// Aliases
type Hash = Data32
type Topic = Data32
```  



> Response : eth_getBlockByHash from Parity AURA  

```json
{
  "jsonrpc": "2.0",
  "result": {
    "number": "0x1834b",
    "hash": "0x6b00bd916ee957b39a51f238d862eb18afcc38b7827bcff29dd98d76f33ed4ce",
    "parentHash": "0xcf1a4ff229500b64e298d858355905281487b05e461153a876c10849c2b6d669",
    "sha3Uncles": "0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "transactionsRoot": "0x3467a08f304aa353b525693205e76c230a63ad733f84a0b936d45269f0133d02",
    "stateRoot": "0x9318823f03272662048169a8f625af7612e1a311cf27c31c44d22a655fcf3f4b",
    "receiptsRoot": "0x056b23fbba480696b65fe5a59b8f2148a1299103c4f57df839233af2cf4ca2d2",
    "miner": "0x00f03dfe082deb9a3e67dfbf49eea7ced8c4120d",
    "author": "0x00f03dfe082deb9a3e67dfbf49eea7ced8c4120d",
    "difficulty": "0xfffffffffffffffffffffffffffffffc",
    "totalDifficulty": "0x1834affffffffffffffffffffffffede168bb",
    "extraData": "0xd5830108038650617269747986312e32302e30826c69",
    "size": "0x2b2",    
    "gasLimit": "0x47b760",
    "gasUsed": "0x5208",
    "timestamp": "0x5a9b63e1",
    "transactions": [
      {
        "blockHash": "0x6b00bd916ee957b39a51f238d862eb18afcc38b7827bcff29dd98d76f33ed4ce",
        "blockNumber": "0x1834b",
        "chainId": "0xd46e5",
        "condition": null,
        "creates": null,
        "from": "0x00140916ae81b8c75ebee92d619a085b5feb2d71",
        "gas": "0x5208",
        "gasPrice": "0x0",
        "hash": "0x6577c7eb690acdf908632879b4ca5c46110dd13c85b09d96c635d334c94246f8",
        "input": "0x",
        "nonce": "0x0",
        "publicKey": "0x40139b0dd0f2755ffbacf1c50d66136fa566fbbd67280156f032d4647a6f2e029af3873361724aebdf5d4dd6faf54eae05d83e478e854cfc40790503587274db",
        "r": "0x88a8598811ae2b4561b7f3bcb672f8e6ba65ad898cd93f95720f5e43d013e032",
        "raw": "0xf86a80808252089400e8fa1afbadfdaeefa0672a4573f707116e5ab4881bc16d674ec8000080831a8deea088a8598811ae2b4561b7f3bcb672f8e6ba65ad898cd93f95720f5e43d013e032a0345ddded8b86c291ada9b9cc7ae32022f88ef9aee3312ece59e19893f7c53dd1",
        "s": "0x345ddded8b86c291ada9b9cc7ae32022f88ef9aee3312ece59e19893f7c53dd1",
        "standardV": "0x1",
        "to": "0x00e8fa1afbadfdaeefa0672a4573f707116e5ab4",
        "transactionIndex": "0x0",
        "v": "0x1a8dee",
        "value": "0x1bc16d674ec80000"
      }
    ],    
    "uncles": [],

    "signature": "128598d715382131a4d5b378eebaf874a57c99f367c6c8b9eeca1d33e2400dfb1312cfdb33a441eff8427ff4bf21536d02e8e2cdb4431a8ded5d8a3542d244b000",
    "step": "304026618",
    "sealFields": [
      "0x84121f13fa",
      "0xb841128598d715382131a4d5b378eebaf874a57c99f367c6c8b9eeca1d33e2400dfb1312cfdb33a441eff8427ff4bf21536d02e8e2cdb4431a8ded5d8a3542d244b000"
    ]
  },
  "id": 1
}
```  



> Block fields 설명  





---  
